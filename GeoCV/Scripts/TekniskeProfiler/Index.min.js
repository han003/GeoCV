function etterSortering(n,t){var i=n.column,r=n.direction;$.each(t,function(n){n==i?($(this).removeClass("hidden"),$(this).removeClass("fa-sort-desc"),$(this).removeClass("fa-sort-asc"),r=="asc"?$(this).addClass("fa-sort-asc"):$(this).addClass("fa-sort-desc")):$(this).addClass("hidden")})}$(document).ready(function(){$("#katalog-tabell").stupidtable();$("#prosjekt-tabell").stupidtable();$("#katalog-tabell").bind("aftertablesort",function(n,t){etterSortering(t,$("#katalog-tabell th i"))});$("#prosjekt-tabell").bind("aftertablesort",function(n,t){etterSortering(t,$("#prosjekt-tabell th i"))})});$("#prosjekt-filter").keyup(function(){var n=$(this).val().toLowerCase();$("#prosjekt-tabell tbody tr").each(function(){var t=$(this).data("navn").toLowerCase(),i=$(this).data("kunde").toLowerCase();t.indexOf(n)>=0||i.indexOf(n)>=0?$(this).removeClass("hidden"):$(this).addClass("hidden")})});$("#katalog-filter").keyup(function(){var n=$(this).val().toLowerCase();console.log("filter: "+n);$("#katalog-tabell tbody tr").each(function(){var t=$(this).data("katalogelement").toLowerCase();t.indexOf(n)>=0?$(this).removeClass("hidden"):$(this).addClass("hidden")})});$(".table-filter").keyup(function(){var n=$(this).val().toLowerCase();console.log("Filter: "+n);$("#alle-elementer-tabell tbody tr").each(function(){var t=$(this).children("td").html().toLowerCase();t.indexOf(n)>=0?$(this).removeClass("hidden"):$(this).addClass("hidden")})});$(".slett-link").click(function(){$("#slett-profil-navn").html($(this).data("profilnavn"));$("#slett-id").val($(this).data("profilid"));$("#slett-teknisk-profil-modal").modal()});$(".legg-til-profil-btn").click(function(){$("#legg-til-prosjekt-id").val($(this).data("prosjektid"));$("#legg-til-teknisk-profil-modal").modal()});$(document).on("click","#prosjekt-tabell tbody tr",function(){var t,n;$(this).hasClass("valgt-list-group-item")||($.each($(".prosjekt-profil-panel"),function(){$(this).find("li.valgt-list-group-item").removeClass("valgt-list-group-item");$(this).find(".panel-body i").addClass("hidden")}),t=$(this).data("prosjektid"),$.each($("#prosjekt-tabell tbody tr"),function(){$(this).data("prosjektid")==t?($(this).addClass("valgt-list-group-item"),$(this).find("i").removeClass("hidden")):($(this).removeClass("valgt-list-group-item"),$(this).find("i").addClass("hidden"))}),$.each($(".teknisk-profil-panel"),function(){$(this).addClass("hidden")}),$("#katalog-filter-panel, #katalog-panel").addClass("hidden"),n=$(this).data("prosjektid"),console.log(n),$.each($('.prosjekt-profil-panel[data-prosjektid="'+n+'"]'),function(){$(this).removeClass("hidden")}),$.each($('.prosjekt-profil-panel[data-prosjektid!="'+n+'"]'),function(){$(this).addClass("hidden")}))});$(document).on("click",".rediger-link",function(){var n=$(this).data("tekprofilid"),t=$(this).parent();$.each(t.children("li"),function(){$(this).data("tekprofilid")==n?($(this).addClass("valgt-list-group-item"),$(this).find("i").removeClass("hidden")):($(this).removeClass("valgt-list-group-item"),$(this).find("i").addClass("hidden"))});console.log(n);$.each($('.teknisk-profil-panel[data-tekprofilid="'+n+'"]'),function(){$(this).removeClass("hidden")});$.each($('.teknisk-profil-panel[data-tekprofilid!="'+n+'"]'),function(){$(this).addClass("hidden")});$("#katalog-filter-panel, #katalog-panel").removeClass("hidden")});$(document).on("click","#katalog-tabell tbody tr",function(){var t=$(this).data("katalogelementid"),o=$(this).data("katalogelement"),s=$(this).data("katalog"),e,n;console.log(t);var r=$(".teknisk-profil-panel:not(.hidden)"),u=r.data("tekprofilid"),i=r.find("table"),f=!1;i.find("tbody").children("tr").each(function(){$(this).data("katalogelementid")==t&&(f=!0)});f||(e='<tr data-katalogelementid="'+t+'"><td class="col-lg-6">'+o+'<\/td><td class="col-lg-6"><div class="td-flex"><div>'+s+'<\/div><i class="fa fa-minus-square hidden"><\/i><\/div><\/td><\/tr>',i.find("tbody").append(e),n="",i.find("tbody").children("tr").each(function(){var t=$(this).data("katalogelementid");n+=t+";"}),n=n.substring(0,n.length-1),console.log("Profil Id: "+u),console.log("Ny verdi: "+n),$.ajax({url:"/TekniskeProfiler/OppdaterProfil",data:{ProfilId:u,Verdi:n},type:"POST",success:function(){console.log("Lagt til")}}))});$(document).on("click",".teknisk-tabell tbody tr",function(){var t=$(this).data("tekprofilid"),i=$(this).parent(),n;$(this).remove();n="";i.children("tr").each(function(){var t=$(this).data("katalogelementid");n+=t+";"});n=n.substring(0,n.length-1);console.log("Profil Id: "+t);console.log("Ny verdi: "+n);$.ajax({url:"/TekniskeProfiler/OppdaterProfil",data:{ProfilId:t,Verdi:n},type:"POST",success:function(){console.log("Lagt til")}})});
//# sourceMappingURL=Index.min.js.map
