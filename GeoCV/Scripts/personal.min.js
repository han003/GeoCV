function update(n,t){$("#shadowBrukerLink").html("Surfer som "+$("#Fornavn-txt").val()+" "+$("#Etternavn-txt").val());$.ajax({url:"/Personal/Update",data:{Update:n,Value:t},type:"POST",beforeSend:function(){$("#"+n+"-label").removeClass("hidden")},success:function(){console.log("Lagt til");$("#"+n+"-label").addClass("hidden")}})}function createDate(n){var t=n.split(" ")[0].split(".")[0],i=n.split(" ")[0].split(".")[1]-1,r=n.split(" ")[0].split(".")[2];return new Date(r,i,t)}function oppdaterDatabase(n,t){var i="";$("#"+n+"-bruker-tabell tbody tr i").each(function(){var n=$(this).data("id");i+=n+";"});i=i.substring(0,i.length-1);console.log("Table: "+n);console.log("Value: "+i);$.ajax({url:"/Personal/Update",data:{Update:n,Value:i},type:"POST",beforeSend:function(){t.html('<i class="fa fa-spinner fa-spin"><\/i>')},success:function(){t.html("Lagt til")}})}$.datepicker.setDefaults($.datepicker.regional.nb);$(".update-txt").keyup(function(){var n=$(this).attr("id").substring(0,$(this).attr("id").indexOf("-")),t=$(this).val();update(n,t)});$(".table-filter").keyup(function(){var t=$(this).val(),n;console.log("Filter: "+t);n=$(this).attr("id").replace("-filter","");console.log("Katalog: "+n);$("#"+n+"-alle-tabell tbody tr").each(function(){var n=$(this).children("td").html();n.toLowerCase().indexOf(t.toLowerCase())>=0?$(this).removeClass("hidden"):$(this).addClass("hidden")})});$("#stillinger-select").change(function(){var n=$(this).val();console.log(n);update("Stilling",n)});$("#nasjonalitet-select").change(function(){var n=$(this).val();console.log(n);update("Nasjonalitet",n)});$("#birthday-date, #geomatikk-start-date").datepicker({changeMonth:!0,changeYear:!0,dateFormat:"dd. MM yy"});$("#birthday-date").on("change",function(){var n=$(this).val();console.log(n);update("Fødselsår",n)});$("#geomatikk-start-date").on("change",function(){var n=$(this).val();console.log(n);update("StartDato",n)});$("body").on("click",".add-item-btn",function(){var i=$(this).parent(),r=$(this).data("id"),n=$(this).data("katalog"),t=$(this).data("element");$("#"+n+"-bruker-tabell tbody").append('<tr><td class="col-lg-5">'+t+'<\/td><td class="col-lg-1"><i data-katalog="'+n+'" data-id="'+r+'" data-element="'+t+'" class="fa fa-minus-square fa-lg remove-item-btn"><\/i><\/td><\/tr>');oppdaterDatabase(n,i)});$("body").on("click",".remove-item-btn",function(){var n=$(this).parent(),t=$(this).data("katalog");$(this).closest("tr").remove();oppdaterDatabase(t,n)});$(".legg-til-element-btn").click(function(){$(this).blur();var n=$(this).data("katalog"),t=$("#"+n+"-filter").val().trim();console.log(t+" i "+n);$("#modalLeggTilElement").html(t);$("#modalLeggTilKatalog").html(n);$("#modal-LeggTil-btn").data("katalog",n);$("#modal-LeggTil-btn").data("element",t);$("#leggTilModal").modal()});$("#modal-LeggTil-btn").click(function(){var n=$("#modal-LeggTil-btn").data("katalog"),t=$("#modal-LeggTil-btn").data("element");$.ajax({url:"/Database/AddElement",data:{NyttElement:t,Katalog:n},type:"POST",beforeSend:function(){$("#modal-LeggTil-btn").html('<i class="fa fa-spinner fa-spin"><\/i>')},success:function(i){$("#modal-LeggTil-btn").html("Legg til");$("#leggTilModal").modal("hide");$("#"+n+"-alle-tabell tbody").append('<tr><td class="col-lg-5">'+t+'<\/td><td class="col-lg-1"><i data-katalog="'+n+'" data-id="'+i+'" data-element="'+t+'" class="fa fa-plus-square fa-lg add-item-btn"><\/i><\/td><\/tr>')}})});
//# sourceMappingURL=personal.min.js.map
