function getKatalog(n){$.ajax({url:"/Expertise/GetElements",data:{Katalog:n},type:"GET",dataType:"json",success:function(t){var i=[],r=[];$.each(t[1],function(u,f){i.push(f.Element);r.push(f.ListeKatalogId);$("#"+n+"-alle-tabell tbody").append('<tr id="'+f.ListeKatalogId+'"><td class="col-lg-5">'+f.Element+'<\/td><td class="col-lg-1"><i class="fa fa-plus-square fa-lg add-item-btn"><\/i><\/td><\/tr>');try{$.each(t[0][0].split(";"),function(t,i){if(f.ListeKatalogId==i){var r=n+"-"+f.ListeKatalogId;$("#"+n+"-bruker-tabell tbody").append('<tr id="'+r+'"><td class="col-lg-5">'+f.Element+'<\/td><td class="col-lg-1"><i class="fa fa-minus-square fa-lg remove-item-btn"><\/i><\/td><\/tr>')}})}catch(e){console.log(e)}});$("#"+n+"-load").addClass("hidden");$("#"+n+"-form").removeClass("hidden");$("#"+n+"-alle-tabell").data("elementer",i);$("#"+n+"-alle-tabell").data("elementerId",r)}})}function finnDbKolonne(n){dbOppdateringsKolonne=n.closest("table").attr("id");dbOppdateringsKolonne=dbOppdateringsKolonne.substring(0,dbOppdateringsKolonne.indexOf("-"));console.log("Katalog: "+dbOppdateringsKolonne)}function addItem(n){var t,i,r;isDuplicate()||(t=n.closest("td").prev().html(),console.log("Legg til: "+t),i=n.closest("table").data("elementer"),r=n.closest("table").data("elementerId"),$.each(i,function(n,i){t==i&&$("#"+dbOppdateringsKolonne+"-bruker-tabell tbody").append('<tr id="'+r[n]+'"><td class="col-lg-5">'+i+'<\/td><td class="col-lg-1"><i class="fa fa-minus-square fa-lg remove-item-btn"><\/i><\/td><\/tr>')}),updateDatabase());$("#"+dbOppdateringsKolonne+"-auto").val("")}function updateDatabase(){var n="";$("#"+dbOppdateringsKolonne+"-bruker-tabell tbody tr").each(function(){var t=$(this).attr("id"),i=t.substring(t.indexOf("-")+1);n+=i+";"});n=n.substring(0,n.length-1);console.log("Table: "+dbOppdateringsKolonne);console.log("Value: "+n);$.post("/Expertise/Update",{Update:dbOppdateringsKolonne,Value:n})}function isDuplicate(){return!1}var dbOppdateringsKolonne;$(document).ready(function(){$.each(["Programmeringsspråk","Rammeverk","WebTeknologier","Databasesystemer","Serverside","Operativsystemer","Annet"],function(n,t){getKatalog(t)})});$(".table-filter").keyup(function(){var t=$(this).val(),n;console.log("Filter: "+t);n=$(this).attr("id").replace("-filter","");console.log("Katalog: "+n);$("#"+n+"-alle-tabell tbody tr").each(function(){var n=$(this).children("td").html();n.toLowerCase().indexOf(t.toLowerCase())>=0?$(this).removeClass("hidden"):$(this).addClass("hidden")})});$("body").on("click",".add-item-btn",function(){finnDbKolonne($(this));addItem($(this))});$("body").on("click",".remove-item-btn",function(){finnDbKolonne($(this));$(this).closest("tr").remove();updateDatabase()});
//# sourceMappingURL=expertise.min.js.map
