function oppdaterDatabase(n,t){var i="";$("#"+n+"-bruker-tabell tbody tr i").each(function(){var n=$(this).data("id");i+=n+";"});i=i.substring(0,i.length-1);console.log("Table: "+n);console.log("Value: "+i);$.ajax({url:"/Expertise/Update",data:{Update:n,Value:i},type:"POST",beforeSend:function(){t.html('<i class="fa fa-spinner fa-spin"><\/i>')},success:function(){t.html("Lagt til")}})}function leggTilIDatabase(n){var i=$("#"+n+"-filter"),t=i.val().trim();console.log(t+" i "+n);t!=""?($("#modalLeggTilElement").html(t),$("#modalLeggTilKatalog").html(n),$("#modal-LeggTil-btn").data("katalog",n),$("#modal-LeggTil-btn").data("element",t),$("#leggTilModal").modal()):i.closest(".form-group").addClass("has-error")}function modalLeggTil(){var n=$("#modal-LeggTil-btn").data("katalog"),t=$("#modal-LeggTil-btn").data("element");$.ajax({url:"/Database/AddElement",data:{NyttElement:t,Katalog:n},type:"POST",beforeSend:function(){$("#modal-LeggTil-btn").html('<i class="fa fa-spinner fa-spin"><\/i>')},success:function(i){$("#modal-LeggTil-btn").html("Legg til (Enter)");$("#leggTilModal").modal("hide");$("#"+n+"-alle-tabell tbody").append('<tr><td class="col-lg-5">'+t+'<\/td><td class="col-lg-1"><i data-katalog="'+n+'" data-id="'+i+'" data-element="'+t+'" class="fa fa-plus-square fa-lg add-item-btn"><\/i><\/td><\/tr>')}})}var dbOppdateringsKolonne;$(".table-filter").keyup(function(){var n=$(this).val(),t;n!=""&&$(this).closest(".form-group").hasClass("has-error")&&$(this).closest(".form-group").removeClass("has-error");t=$(this).data("katalog");$("#"+t+"-alle-tabell tbody tr").each(function(){var t=$(this).children("td").html();t.toLowerCase().indexOf(n.toLowerCase())>=0?$(this).removeClass("hidden"):$(this).addClass("hidden")})});$("body").on("click",".add-item-btn",function(){var i=$(this).parent(),r=$(this).data("id"),n=$(this).data("katalog"),t=$(this).data("element");$("#"+n+"-bruker-tabell tbody").append('<tr><td class="col-lg-5">'+t+'<\/td><td class="col-lg-1"><i data-katalog="'+n+'" data-id="'+r+'" data-element="'+t+'" class="fa fa-minus-square fa-lg remove-item-btn"><\/i><\/td><\/tr>');oppdaterDatabase(n,i)});$("body").on("click",".remove-item-btn",function(){var n=$(this).parent(),t=$(this).data("katalog");$(this).closest("tr").remove();oppdaterDatabase(t,n)});$(".table-filter").keyup(function(n){if(n.keyCode==13){var t=$(this).data("katalog");leggTilIDatabase(t)}});$(".legg-til-element-btn").click(function(){$(this).blur();var n=$(this).data("katalog");leggTilIDatabase(n)});$(document).keypress(function(n){var t=n.keyCode?n.keyCode:n.which;t=="13"&&$("#leggTilModal").is(":visible")&&modalLeggTil()});$("#modal-LeggTil-btn").click(function(){modalLeggTil()});
//# sourceMappingURL=expertise.min.js.map
