(function(n){n.fn.stupidtable=function(t){return this.each(function(){var i=n(this);t=t||{};t=n.extend({},n.fn.stupidtable.default_sort_fns,t);i.data("sortFns",t);i.on("click.stupidtable","thead th",function(){n(this).stupidsort()})})};n.fn.stupidsort=function(t){var i=n(this),e=0,f=n.fn.stupidtable.dir,r=i.closest("table"),o=i.data("sort")||null,u;if(o!==null)return i.parents("tr").find("th").slice(0,n(this).index()).each(function(){var t=n(this).attr("colspan")||1;e+=parseInt(t,10)}),arguments.length==1?u=t:(u=t||i.data("sort-default")||f.ASC,i.data("sort-dir")&&(u=i.data("sort-dir")===f.ASC?f.DESC:f.ASC)),r.trigger("beforetablesort",{column:e,direction:u}),r.css("display"),setTimeout(function(){var t=[],h=r.data("sortFns"),c=h[o],s=r.children("tbody").children("tr");s.each(function(i,r){var u=n(r).children().eq(e),f=u.data("sort-value"),o;typeof f=="undefined"&&(o=u.text(),u.data("sort-value",o),f=o);t.push([f,r])});t.sort(function(n,t){return c(n[0],t[0])});u!=f.ASC&&t.reverse();s=n.map(t,function(n){return n[1]});r.children("tbody").append(s);r.find("th").data("sort-dir",null).removeClass("sorting-desc sorting-asc");i.data("sort-dir",u).addClass("sorting-"+u);r.trigger("aftertablesort",{column:e,direction:u});r.css("display")},10),i};n.fn.updateSortVal=function(t){var i=n(this);return i.is("[data-sort-value]")&&i.attr("data-sort-value",t),i.data("sort-value",t),i};n.fn.stupidtable.dir={ASC:"asc",DESC:"desc"};n.fn.stupidtable.default_sort_fns={int:function(n,t){return parseInt(n,10)-parseInt(t,10)},float:function(n,t){return parseFloat(n)-parseFloat(t)},string:function(n,t){return n.localeCompare(t)},"string-ins":function(n,t){return n=n.toLocaleLowerCase(),t=t.toLocaleLowerCase(),n.localeCompare(t)}}})(jQuery);
//# sourceMappingURL=stupidtable.min.js.map
