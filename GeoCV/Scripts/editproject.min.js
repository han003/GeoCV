function getKatalogElementer(){$.ajax({url:"/EditProject/GetKatalogElementer",type:"GET",dataType:"json",success:function(n){console.log(n);var t=[],i=[];$.each(n,function(n,r){t.push(r.Element);i.push(r.ListeKatalogId);$("#alle-elementer-tabell tbody").append('<tr id="'+r.ListeKatalogId+'"><td class="col-lg-2">'+r.Element+'<\/td><td class="col-lg-3">'+r.Katalog+'<\/td><td class="col-lg-1"><i class="fa fa-plus-square add-item-btn"><\/i><\/td><\/tr>')});$("#alle-elementer-tabell").data("elementer",t);$("#alle-elementer-tabell").data("elementerId",i)}})}function updateProjectInfo(n){var t=n.attr("id").substring(0,n.attr("id").indexOf("-")),i=n.val(),r=window.location.pathname.substring(window.location.pathname.lastIndexOf("/")+1);$.ajax({url:"/EditProject/UpdateProjectInfo",data:{Id:r,Update:t,Value:i},type:"POST",beforeSend:function(){n.parent().next().removeClass("hidden")},success:function(){console.log("Lagt til");n.parent().next().addClass("hidden")}})}function oppdaterPaneler(){}function leggTilNyttPanel(n){var t="";t='<div class="panel panel-default"><div class="panel-heading" role="tab" id="'+n+'-heading"><h4 class="panel-title"><a data-toggle="collapse" data-parent="#accordion" aria-expanded="false" aria-controls="'+n+'-collapse">'+n+'<\/a><\/h4><\/div><div id="'+n+'-collapse" class="panel-collapse collapse" role="tabpanel" aria-labelledby="'+n+'-heading"><div class="panel-body"><table id="'+n+'-table" class="table profil-tabell"><thead><tr><th class="col-lg-3">Element<\/th><th class="col-lg-2">Katalog<\/th><th class="col-lg-1"><\/th><\/tr><\/thead><tbody><\/tbody><\/table><\/div><\/div><\/div>';$("#accordion").append(t)}function hentElementer(n,t){$.ajax({url:"/EditProject/HentElementer",data:{Elementer:t},type:"GET",success:function(t){$.each(t,function(t,i){$("#"+n+"-table tbody").append('<tr id="'+i.ListeKatalogId+'"><td class="col-lg-3">'+i.Element+'<\/td><td class="col-lg-2">'+i.Katalog+'<\/td><td class="col-lg-1"><i class="fa fa-minus-square"><\/i><\/td><\/tr>')})}})}function leggTilTekniskeProfiler(){var n=window.location.pathname.substring(window.location.pathname.lastIndexOf("/")+1);$.ajax({url:"/EditProject/GetAlleTeknologier",type:"GET",data:{Id:n},dataType:"json",success:function(n){console.log(n);var t=[],i=[];$.each(n,function(n,r){t.push(r.Element);i.push(r.ListeKatalogId);leggTilNyttPanel(r.Navn,r.Elementer);hentElementer(r.Navn,r.Elementer)});$("#alle-elementer-tabell").data("elementer",t);$("#alle-elementer-tabell").data("elementerId",i)}})}var dbOppdateringsKolonne;$(document).ready(function(){getKatalogElementer();leggTilTekniskeProfiler()});$(".table-filter").keyup(function(){var n=$(this).val().toLowerCase();console.log("Filter: "+n);$("#alle-elementer-tabell tbody tr").each(function(){var t=$(this).children("td").html().toLowerCase(),i=$(this).children("td").next().html().toLowerCase();t.indexOf(n)>=0||i.indexOf(n)>=0?$(this).removeClass("hidden"):$(this).addClass("hidden")})});$(".update-txt").keyup(function(){updateProjectInfo($(this))});$("#ny-profil-lagre-btn").click(function(){var n=window.location.pathname.substring(window.location.pathname.lastIndexOf("/")+1),t=$("#ny-profil-navn-txt").val();console.log(n+" - "+t);$.ajax({url:"/EditProject/LeggTilProfil",data:{Id:n,Navn:t},type:"POST",beforeSend:function(){$("#ny-profil-lagre-btn").html('Lagrer <i class="fa fa-circle-o-notch fa-spin"><\/i>')},success:function(){$("#ny-profil-navn-txt").val("");$("#ny-profil-lagre-btn").html("Legg til");oppdaterPaneler()}})});$(document).on("click",".panel-heading",function(){var n=$(this).next();$.each($(".panel-collapse"),function(){$(this).attr("id")==n.attr("id")?$(this).collapse("toggle"):$(this).hasClass("in")&&$(this).collapse("toggle")})});$("body").on("click",".add-item-btn",function(){var t=$(this).closest("td").prev().html(),n;console.log("Katalog: "+t);n=$(this).closest("td").prev().prev().html();console.log("Legg til: "+n);$.each($(".panel-collapse"),function(){if($(this).hasClass("in")){var i=$(this).find("table tbody");$.each($("#alle-elementer-tabell tbody tr"),function(){var r=$(this).children("td:first").html();n==r&&i.append('<tr id="0"><td class="col-lg-2">'+n+'<\/td><td class="col-lg-3">'+t+'<\/td><td class="col-lg-1"><i class="fa fa-minus-square remove-item-btn"><\/i><\/td><\/tr>')})}})});
//# sourceMappingURL=editproject.min.js.map
