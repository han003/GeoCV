function getAnsatte(){$("#employee-load").removeClass("hidden");$("table").addClass("hidden");$.ajax({url:"/Employees/GetEmployees",dataType:"json",type:"GET",success:function(n){console.log(n);var t="";$.each(n,function(n,i){var u=i.Fornavn!=null?i.Fornavn:"",s=i.Mellomnavn!=null?i.Mellomnavn:"",f=i.Etternavn!=null?i.Etternavn:"",r=i.CVVersjonId,e=i.Aktiv,o=e?'<td class="col-lg-2">Aktiv (<a class="deactivate-link">Deaktiver<\/a>)<\/td>':'<td class="col-lg-2">Ikke Aktiv (<a class="activate-link">Aktiver<\/a>)<\/td>';t+='<tr id="'+r+'"><td class="col-lg-3">'+u+'<\/td><td class="col-lg-4">'+f+"<\/td>"+o+'<td class="col-lg-2"><a href="ChangeUser/'+r+'">Rediger bruker<\/a><\/td><td class="col-lg-1"><a class="del-link col-lg-2">Slett<\/a><\/td><\/tr>'});$("tbody").html(t);$("#employee-load").addClass("hidden");$("table").removeClass("hidden")}})}$(document).ready(function(){$('[data-toggle="popover"]').popover();$("#ansatt-tabell").stupidtable();$("#ansatt-tabell").bind("aftertablesort",function(n,t){var i=t.column,r=t.direction;$.each($("#ansatt-tabell th i"),function(n){n==i?($(this).removeClass("hidden"),$(this).removeClass("fa-sort-desc"),$(this).removeClass("fa-sort-asc"),r=="asc"?$(this).addClass("fa-sort-asc"):$(this).addClass("fa-sort-desc")):$(this).addClass("hidden")})});getAnsatte()});$("#ny-ansatt-btn").click(function(){var t=$("#Fornavn-txt").val(),i=$("#Etternavn-txt").val(),r=$("#Epost-txt").val(),u=$("#Passord-txt").val(),n=$("#Rolle-select").val();console.log("Rolle: "+n);$.ajax({url:"/Employees/RegistrerNyAnsatt",data:{Fornavn:t,Etternavn:i,Epost:r,Passord:u,Rolle:n},type:"POST",beforeSend:function(){$("#ny-ansatt-btn").html('Legger til <i class="fa fa-spinner fa-pulse"><\/i>')},success:function(){$("input").val("");$("#Rolle-select").val("Bruker");$("#ny-ansatt-btn").html("Legg til");getAnsatte()},error:function(n){console.log(n)}})});$(document).on("click",".deactivate-link",function(){console.log("Deactivating..");var t=$(this).closest("tr").attr("id"),n=$(this).closest("td");console.log("Id: "+t);$.ajax({url:"/Employees/Deactivate",data:{Id:t},type:"POST",beforeSend:function(){n.html('Deaktiverer <i class="fa fa-spinner fa-spin"><\/i>')},success:function(){console.log("Success");var t='Ikke Aktiv (<a class="activate-link">Aktiver<\/a>)';n.html(t);n.updateSortVal(t)}})});$(document).on("click",".activate-link",function(){console.log("Activating..");var n=$(this).closest("tr").attr("id"),t=$(this).closest("td");t.html('Aktiverer <i class="fa fa-spinner fa-spin"><\/i>');console.log("Id: "+n);$.ajax({url:"/Employees/Activate",data:{Id:n},type:"POST",success:function(){console.log("Success");t.html('Aktiv (<a class="deactivate-link">Deaktiver<\/a>)')}})});$(document).on("click",".del-link",function(){console.log("Deleting..");var n=$(this).closest("tr").attr("id"),t=$(this).closest("tr"),i=$(this).closest("td");i.html('Sletter <i class="fa fa-spinner fa-spin"><\/i>');console.log("Id: "+n);$.ajax({url:"/Employees/SlettBruker",data:{Id:n},type:"POST",success:function(){console.log("Success");t.remove()}})});
//# sourceMappingURL=employees.min.js.map
