@using System.Web.Optimization
@using Microsoft.AspNet.Identity

@model GeoCV.Models.CVVersjon

@{
    ViewBag.Title = "Min utdannelse";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@section css{
    @Styles.Render("~/Bundles/css/education")
}
@section scripts{
    @Scripts.Render("~/Bundles/js/education")
}

<div id="page-wrapper">
    <div class="row">
        <div class="col-lg-12">
            <h1 class="page-header"><i class="fa fa-graduation-cap"></i> @ViewBag.Title</h1>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-6">

            <div id="min-utdannelse-panel" class="panel panel-primary">
                <div class="panel-heading">Utdannelser</div>
                <div class="panel-body">

                    <table id="education-table" class="table table-hover">
                        <thead>
                            <tr>
                                <th data-sort="string">Studiested <i class="fa fa-sort pull-right"></i></th>
                                <th data-sort="string">Beskrivelse <i class="fa fa-sort pull-right"></i></th>
                                <th data-sort="int">Fra <i class="fa fa-sort pull-right"></i></th>
                                <th data-sort="int">Til <i class="fa fa-sort pull-right"></i></th>
                            </tr>
                        </thead>
                        <tbody>

                            @foreach (var BrukerUtdannelse in Model.Utdannelse.OrderByDescending(x => x.Fra))
                            {
                                <tr id="@BrukerUtdannelse.UtdannelseId" data-utdannelseid="@BrukerUtdannelse.UtdannelseId">
                                    <td class="update-td col-lg-3" data-utdannelseid="@BrukerUtdannelse.UtdannelseId" data-kolonne="Studiested">@BrukerUtdannelse.Studiested</td>
                                    <td class="update-td col-lg-3" data-utdannelseid="@BrukerUtdannelse.UtdannelseId" data-kolonne="Beskrivelse">@BrukerUtdannelse.Beskrivelse</td>
                                    <td class="update-td col-lg-1" data-utdannelseid="@BrukerUtdannelse.UtdannelseId" data-kolonne="Fra">@BrukerUtdannelse.Fra</td>
                                    <td class="update-td col-lg-1" data-utdannelseid="@BrukerUtdannelse.UtdannelseId" data-kolonne="Til">@BrukerUtdannelse.Til</td>
                                </tr>
                            }

                        </tbody>
                    </table>

                </div>
            </div>

        </div>


        <div class="col-lg-6">

            @foreach (var Utdannelse in Model.Utdannelse)
            {
                <div class="panel panel-primary utdannelse-panel hidden" data-utdannelseid="@Utdannelse.UtdannelseId">
                    <div class="panel-heading">@Utdannelse.Studiested<i class="fa fa-spinner fa-spin pull-right hidden"></i></div>
                    <div class="panel-body">

                        <div class="form-horizontal">

                            <div class="form-group">
                                <label class="col-lg-2 control-label">Studiested</label>
                                <div class="col-lg-10">
                                    <input type="text" class="form-control col-lg-10 tekst-oppdaterings-input" value="@Utdannelse.Studiested" data-utdannelseid="@Utdannelse.UtdannelseId" data-kolonne="Studiested">
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-lg-2 control-label">Beskrivelse</label>
                                <div class="col-lg-10">
                                    <input type="text" class="form-control col-lg-10 tekst-oppdaterings-input" value="@Utdannelse.Beskrivelse" data-utdannelseid="@Utdannelse.UtdannelseId" data-kolonne="Beskrivelse">
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-lg-2 control-label">Fra</label>
                                <div class="col-lg-10">

                                    <select class="form-control select-oppdaterings-input" data-utdannelseid="@Utdannelse.UtdannelseId" data-kolonne="Fra">
                                        @for (var i = 0; i <= 100; i++)
                                        {
                                            if (DateTime.Now.Year - i == Utdannelse.Fra)
                                            {
                                                <option selected>@(DateTime.Now.Year - i)</option>
                                            }
                                            else
                                            {
                                                <option>@(DateTime.Now.Year - i)</option>
                                            }
                                        }
                                    </select>

                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-lg-2 control-label">Til</label>
                                <div class="col-lg-10">

                                    <select class="form-control select-oppdaterings-input" data-utdannelseid="@Utdannelse.UtdannelseId" data-kolonne="Til">
                                        @for (var i = 0; i <= 100; i++)
                                        {
                                            if (DateTime.Now.Year - i == Utdannelse.Til)
                                            {
                                                <option selected>@(DateTime.Now.Year - i)</option>
                                            }
                                            else
                                            {
                                                <option>@(DateTime.Now.Year - i)</option>
                                            }
                                        }
                                    </select>

                                </div>
                            </div>

                            <div class="form-group">
                                <div class="col-lg-10 col-lg-offset-2">
                                    <button type="button" class="btn btn-danger slett-utdannelse-btn" data-utdannelseid="@Utdannelse.UtdannelseId">Slett</button>
                                </div>
                            </div>

                        </div>

                    </div>
                </div>
            }

        </div>

    </div>
</div>