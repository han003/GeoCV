@using System.Web.Optimization
@using Microsoft.AspNet.Identity

@model GeoCV.Models.CVVersjon

@{
    ViewBag.Title = "Min arbeidserfaring";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@section css{
    @Styles.Render("~/Bundles/css/work")
}
@section scripts{
    @Scripts.Render("~/Bundles/js/work")
}

@Html.Partial("_RedigerModal")

<div id="page-wrapper">
    <div class="row">
        <div class="col-lg-12">
            <h1 class="page-header">Min arbeidserfaring</h1>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-12">

            <div id="arbeidserfaring-panel" class="panel panel-primary">
                <div class="panel-heading">Arbeidserfaring</div>
                <div class="panel-body">

                    <table id="work-table" class="table table-hover table-bordered">
                        <thead>
                            <tr>
                                <th data-sort="string">Arbeidsplass <i class="fa fa-sort pull-right"></i></th>
                                <th data-sort="string">Stilling <i class="fa fa-sort pull-right"></i></th>
                                <th data-sort="string">Beskrivelse <i class="fa fa-sort pull-right"></i></th>
                                <th data-sort="int">Fra <i class="fa fa-sort pull-right"></i></th>
                                <th data-sort="string">Til <i class="fa fa-sort pull-right"></i></th>
                                <th>Slett</th>
                            </tr>
                        </thead>
                        <tbody>

                            @foreach (var Arbeid in Model.Arbeidserfaring.Where(x => x.Nåværende.Equals(true)))
                            {
                                <tr id="@Arbeid.ArbeidserfaringId">
                                    <td class="update-td col-lg-2" data-id="@Arbeid.ArbeidserfaringId" data-stilling="@Arbeid.Stilling" data-kolonne="Arbeidsplass" data-verdi="@Arbeid.Arbeidsplass">@Arbeid.Arbeidsplass</td>
                                    <td class="update-td col-lg-2" data-id="@Arbeid.ArbeidserfaringId" data-stilling="@Arbeid.Stilling" data-kolonne="Stilling" data-verdi="@Arbeid.Stilling">@Arbeid.Stilling</td>
                                    <td class="update-td col-lg-4" data-id="@Arbeid.ArbeidserfaringId" data-stilling="@Arbeid.Stilling" data-kolonne="Beskrivelse" data-verdi="@Arbeid.Beskrivelse">@Arbeid.Beskrivelse</td>
                                    <td class="update-td col-lg-1" data-id="@Arbeid.ArbeidserfaringId" data-stilling="@Arbeid.Stilling" data-kolonne="Fra" data-verdi="@Arbeid.Fra">@Arbeid.Fra</td>
                                    <td class="update-td col-lg-1" data-id="@Arbeid.ArbeidserfaringId" data-stilling="@Arbeid.Stilling" data-kolonne="Til" data-verdi="Nåværende">Nåværende</td>
                                    <td><a data-id="@Arbeid.ArbeidserfaringId" class="del-link col-lg-2">Slett</a></td>
                                </tr>
                            }

                            @foreach (var Arbeid in Model.Arbeidserfaring.Where(x => x.Nåværende.Equals(false)).OrderByDescending(x => x.Fra))
                            {
                                <tr id="@Arbeid.ArbeidserfaringId">
                                    <td class="update-td col-lg-2" data-id="@Arbeid.ArbeidserfaringId" data-stilling="@Arbeid.Stilling" data-kolonne="Arbeidsplass" data-verdi="@Arbeid.Arbeidsplass">@Arbeid.Arbeidsplass</td>
                                    <td class="update-td col-lg-2" data-id="@Arbeid.ArbeidserfaringId" data-stilling="@Arbeid.Stilling" data-kolonne="Stilling" data-verdi="@Arbeid.Stilling">@Arbeid.Stilling</td>
                                    <td class="update-td col-lg-4" data-id="@Arbeid.ArbeidserfaringId" data-stilling="@Arbeid.Stilling" data-kolonne="Beskrivelse" data-verdi="@Arbeid.Beskrivelse">@Arbeid.Beskrivelse</td>
                                    <td class="update-td col-lg-1" data-id="@Arbeid.ArbeidserfaringId" data-stilling="@Arbeid.Stilling" data-kolonne="Fra" data-verdi="@Arbeid.Fra">@Arbeid.Fra</td>
                                    <td class="update-td col-lg-1" data-id="@Arbeid.ArbeidserfaringId" data-stilling="@Arbeid.Stilling" data-kolonne="Til" data-verdi="@Arbeid.Til">@Arbeid.Til</td>
                                    <td><a data-id="@Arbeid.ArbeidserfaringId" class="del-link col-lg-2">Slett</a></td>
                                </tr>
                            }

                        </tbody>

                    </table>

                </div>
            </div>

            

        </div>
    </div>
</div>