@using System.Web.Optimization
@using Microsoft.AspNet.Identity

@model GeoCV.Models.CVVersjon

@{
    ViewBag.Title = "Min arbeidserfaring";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@section css{
    @Styles.Render("~/Bundles/css/work")
}
@section scripts{
    @Scripts.Render("~/Bundles/js/work")
}

@Html.Partial("_RedigerModal")

<div id="page-wrapper">
    <div class="row">
        <div class="col-lg-12">
            <h1 class="page-header">Min arbeidserfaring</h1>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-12">

            <table id="work-table" class="table table-hover table-bordered">
                <thead>
                    <tr>
                        <th data-sort="string">Arbeidsplass <i class="fa pull-right hidden"></i></th>
                        <th data-sort="string">Stilling <i class="fa pull-right hidden"></i></th>
                        <th data-sort="string">Beskrivelse <i class="fa pull-right hidden"></i></th>
                        <th data-sort="int">Fra <i class="fa pull-right hidden"></i></th>
                        <th data-sort="string">Til <i class="fa pull-right hidden"></i></th>
                        <th>Slett</th>
                    </tr>
                </thead>
                <tbody>

                    @foreach (var Arbeid in Model.Arbeidserfaring.Where(x => x.Nåværende.Equals(true)))
                    {
                        <tr id="@Arbeid.ArbeidserfaringId">
                            <td data-id="@Arbeid.ArbeidserfaringId" data-stilling="@Arbeid.Stilling" data-kolonne="Arbeidsplass" data-verdi="@Arbeid.Arbeidsplass" class="update-td col-lg-2">@Arbeid.Arbeidsplass</td>
                            <td data-id="@Arbeid.ArbeidserfaringId" data-stilling="@Arbeid.Stilling" data-kolonne="Stilling" data-verdi="@Arbeid.Stilling" class="update-td col-lg-2">@Arbeid.Stilling</td>
                            <td data-id="@Arbeid.ArbeidserfaringId" data-stilling="@Arbeid.Stilling" data-kolonne="Beskrivelse" data-verdi="@Arbeid.Beskrivelse" class="update-td col-lg-4">@Arbeid.Beskrivelse</td>
                            <td data-id="@Arbeid.ArbeidserfaringId" data-stilling="@Arbeid.Stilling" data-kolonne="Fra" data-verdi="@Arbeid.Fra" class="update-td col-lg-1">@Arbeid.Fra</td>
                            <td data-id="@Arbeid.ArbeidserfaringId" data-stilling="@Arbeid.Stilling" data-kolonne="Til" data-verdi="Nåværende" class="update-td col-lg-1">Nåværende</td>
                            <td><a data-id="@Arbeid.ArbeidserfaringId" class="del-link col-lg-2">Slett</a></td>
                        </tr>
                    }

                    @foreach (var Arbeid in Model.Arbeidserfaring.Where(x => x.Nåværende.Equals(false)).OrderByDescending(x => x.Fra))
                    {
                        <tr id="@Arbeid.ArbeidserfaringId">
                            <td data-id="@Arbeid.ArbeidserfaringId" data-stilling="@Arbeid.Stilling" data-kolonne="Arbeidsplass" data-verdi="@Arbeid.Arbeidsplass" class="update-td col-lg-2">@Arbeid.Arbeidsplass</td>
                            <td data-id="@Arbeid.ArbeidserfaringId" data-stilling="@Arbeid.Stilling" data-kolonne="Stilling" data-verdi="@Arbeid.Stilling" class="update-td col-lg-2">@Arbeid.Stilling</td>
                            <td data-id="@Arbeid.ArbeidserfaringId" data-stilling="@Arbeid.Stilling" data-kolonne="Beskrivelse" data-verdi="@Arbeid.Beskrivelse" class="update-td col-lg-4">@Arbeid.Beskrivelse</td>
                            <td data-id="@Arbeid.ArbeidserfaringId" data-stilling="@Arbeid.Stilling" data-kolonne="Fra" data-verdi="@Arbeid.Fra" class="update-td col-lg-1">@Arbeid.Fra</td>
                            <td data-id="@Arbeid.ArbeidserfaringId" data-stilling="@Arbeid.Stilling" data-kolonne="Til" data-verdi="@Arbeid.Til" class="update-td col-lg-1">@Arbeid.Til</td>
                            <td><a data-id="@Arbeid.ArbeidserfaringId" class="del-link col-lg-2">Slett</a></td>
                        </tr>
                    }

                </tbody>

            </table>

        </div>
    </div>
</div>